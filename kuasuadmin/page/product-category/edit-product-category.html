<dom-module id='edit-product-category'>
	<style>
		:host paper-button{
			background-color: var(--google-grey-300);
			}
		:host paper-button:hover {
			background-color: var(--paper-light-blue-200);
	    }
	</style>
	<template>
		<!-- <category-edit-form></category-edit-form> <-->
		<h2>新增产品分类</h2> 品种：
		<input is="iron-input" bind-value="{{editEntity.categoryName}}" /> 英文名：
		<input is="iron-input" bind-value="{{editEntity.categoryEnName}}" />
		<br /> 中文名：
		<input is="iron-input" bind-value="{{editEntity.categoryCnName}}" /> 应用类型：
		<input is="iron-input" bind-value="{{editEntity.categoryApp}}" />
		<br />
		
		<div class="buttons">
	        <template is="dom-if" if="[[actionList.0.show]]">
				<paper-button on-click="add"><iron-icon icon="add"></iron-icon>添加</paper-button>
			</template>
			<template is="dom-if" if="{{actionList.1.show}}">
				<paper-button on-click="edit"><iron-icon icon="edit"></iron-icon>修改</paper-button>
			</template>
			<paper-button dialog-dismiss><iron-icon icon="cancel"></iron-icon>取消</paper-button>
      </div>
		
		
	</template>
	<script>
		Polymer({
			is:'edit-product-category',
			properties:{
				editEntity:{	//
					type:Object
				},
				operationType:{
					type:String
				},
				actionList:{
					type: Array,
					value:[{
						name:'add',
						show:true,
						callFunction:'add'
					},{
						name:'edit',
						show:true,
						callFunction:'edit'
					},{
						name:'cancel',
						show:true,
						callFunction:'cancel'
					}]
				}
			},
			//编辑方法
			edit:function(event, detail, sender){
				//do something update datebase
				debugger;
				console.log("edit celled");
				var evt = document.createEvent('Event'); 
				evt.initEvent('dialog-edit',true,true); 
				var elem = event.target;
				elem.dispatchEvent(evt); 
			},
			//添加方法
			add:function(event, detail, sender){
				/*
				 *
				 * ajax 存储数据->success(){
				 * 	isChange=true;
				 * }
				 * 
				 * */
				debugger;
				console.log("add celled");
				var evt = document.createEvent('Event'); 
				evt.initEvent('dialog-add',true,true); 
				var elem = event.target;
				elem.dispatchEvent(evt); 

			},
			//关闭窗口
			cancel:function(){
				var dialog = document.getElementById('animated');
				if (dialog) {
					dialog.close();
				}
			},
			arrayItem: function(change, index, path) {
		        return this.get(path, change.base[index]);
      		}
		})
	</script>

</dom-module>